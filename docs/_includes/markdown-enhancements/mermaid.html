{%- include snippets/get-sources.html -%}
{%- assign _sources = __return -%}
<script>
  window.Lazyload.js('{{ _sources.mermaid }}', function() {
    mermaid.initialize({
      startOnLoad: true,
      theme: 'dark',
      securityLevel: 'loose'
    });
    // Mermaid 10+ uses run() instead of init()
    if (typeof mermaid.run === 'function') {
      mermaid.run({ nodes: document.querySelectorAll('.language-mermaid') });
    } else {
      mermaid.init(undefined, '.language-mermaid');
    }
  });
</script>
